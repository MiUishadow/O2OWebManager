/* SVN.committedRevision=1052730 */
var jsRegistFed={ieLower:$.browser.msie&&$.browser.version==6||false,helpCenterHover:function(){$(".help_wrap",".regist_header_right ").hover(function(){$(this).addClass("help_wrap_hover")},function(){$(this).removeClass("help_wrap_hover")})},registForm:function(b){var a=$(b).val();var c=$(".regist_account_info");$(b,".regist_form").focus(function(){if($(this).val()==a&&$("#lockEmail").val()!=1){$(this).val("").removeClass("gay_text")}$(this).parents("li").removeClass("cur_error").addClass("cur")});$(b,".regist_form").blur(function(){var d=$(this).val();if(!d){$(this).val(a).addClass("gay_text")}$(this).parents("li").removeClass("cur")});$(".form_item").delegate(".ipt_username","keyup",function(){$(this).next(".associat_input").end().parents("li").css("z-index","103");c.css({position:"relative","z-index":"203"})
});$(document).bind("click",function(e){var d=e.target;if(d.className!="ipt_username"||d.className!="associat_input"){$(".associat_input").hide();c.removeAttr("style")}})},serviceAgreement:function(){$(".check_agreement",".service_agreement").click(function(){if($(this).hasClass("uncheck_agreement")){$(this).attr("class","check_agreement");$(this).parents("li").next("li").find("button").removeClass("disable_btn").attr("disabled",false)}else{$(this).attr("class","uncheck_agreement");$(this).parents("li").next("li").find("button").addClass("disable_btn").attr("disabled",true)}return false})},changeNickName:function(){var a=$("#nickname").val();var b;$("a",".nickname_default").click(function(){$(".nickname_default").hide();$(".change_nickname_detail").show();$(".change_nickname_detail").delegate("input","focus",function(){if(a==$(this).val()){$(this).val("")
}$(this).removeClass("gay_text")});$(".change_nickname_detail").delegate("input","blur",function(){b=$(this).val();if(!b){$(this).val(a);$(this).addClass("gay_text")}});$(".change_nickname_detail").delegate(".save_btn","click",function(){var d=/[\"<>$+]/;var e=$("#nickname").val();if(e==""){$("#nickNameDiv").addClass("nichname_wrong");return false}if(d.test(e)){$("#nickNameDiv").addClass("nichname_wrong");return false}if(e.length>500){$("#nickNameDiv").addClass("nichname_wrong");return false}var c=false;$.ajax({type:"POST",url:"/passport/updateNickName.do",async:false,data:{nickName:e},success:function(f){if(f.errorCode==0){c=true}else{$("#nickNameDiv").addClass("nichname_wrong")}}});if(c){$(this).parents(".change_nickname_detail").hide().next(".your_nickname").show().find(".nickname").text(b);
$(this).parents(".change_nickname_detail").prev(".change_nickname").hide()}return false})})},emailReceive:function(){$(".no_email_detail").delegate(".no_email","click",function(){$(this).next("ul").show();return false})},rate:function(d,l){var h=document.getElementById(l),i=h.style;var m=!-[1,];if(m){var a=d*Math.PI/180,k=Math.cos(a),j=-Math.sin(a),c=Math.sin(a),b=Math.cos(a);h.fw=h.fw||h.offsetWidth/2;h.fh=h.fh||h.offsetHeight/2;var e=(90-d%90)*Math.PI/180,g=Math.sin(e)+Math.cos(e);i.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+k+",M12="+j+",M21="+c+",M22="+b+",SizingMethod='auto expand');";i.top=h.fh*(1-g)+"px";i.left=h.fw*(1-g)+"px"}else{var f="rotate("+d+"deg)";i.MozTransform=f;i.WebkitTransform=f;i.OTransform=f;i.msTransform=f;i.Transform=f}return false},paswdStrength:function(a){$(a+"2").attr("readonly","readonly").css("background-color","#C0C1C4");
$(a).focus(function(){$(a).parents("li").removeClass("cur_error").addClass("cur")});$(a+"2").focus(function(){$(a+"2").parents("li").removeClass("cur_error").addClass("cur")});$(".form_item").delegate("input[name='pwd']","click",function(){$(this).hide().next("input[type='password']").show().focus();$(this).parents("li").removeClass("cur_error").addClass("cur")});$("input[name='pwd']").focus(function(){$(this).hide().next("input[type='password']").show().focus();$(this).parents("li").removeClass("cur_error").addClass("cur")});$(".form_item").delegate("input[type='password']","blur",function(){var b=$(this).val();if(!b){$(this).hide().prev("input[type='text']").show()}$(this).parents("li").removeClass("cur")});$(".form_item").delegate(a,"keyup",function(){liItem=$(this).parents("li");arrowId=liItem.find("i").attr("id");
liItem.find(".paswd_strength").show();var c=$(this).val().length;var b=getPassPoint(a);if(c==1){jsRegistFed.rate(0,arrowId)}else{if(c>1&&c<4){jsRegistFed.rate(30,arrowId)}else{if(b>=80){jsRegistFed.rate(150,arrowId)}else{if(b>=50){jsRegistFed.rate(90,arrowId)}}}}})},receiveCode:function(){$(".phone_verifica_form").delegate(".receive_code","click",function(){if($(".receive_code").hasClass("reacquire_code")){return false}$.ajax({type:"POST",url:"/passport/sendMobileCheckCode.do",async:false,success:function(d){if(d){if(1==d.sendRs){alert("验证码已发送至您的手机！");$("#text_change").html("短信验证码已发送至手机："+subMobile+",请查看短信并填写验证码");return}else{if(2==d.sendRs){alert("每天只有5次获取验证码的机会");return}}}}});$(this).addClass("reacquire_code").html("重新获取验证码(<i>59</i>)");var c=$("i",".reacquire_code").text();var b=setInterval(function(){if(c>0){c--;
$("i",".reacquire_code").text(c)}},1000);var a=setTimeout(function(){$(".receive_code",".phone_verifica_form").removeClass("reacquire_code").html("重新获取验证码")},c*1000);return false})},registTab:function(){$(".regist_tab").delegate("li","click",function(){var b=$("li",".regist_tab"),a=b.index(this);if(a==1){$(".regist_tab .cur_tab").animate({left:"258px"},300,function(){$(this).addClass("cur").siblings("li").removeClass("cur");$(".regist_form",".mod_regist_wrap").eq(a).show().siblings(".regist_form").hide()})}else{$(".regist_tab .cur_tab").animate({left:"0"},300,function(){$(this).addClass("cur").siblings("li").removeClass("cur");$(".regist_form",".mod_regist_wrap").eq(a).show().siblings(".regist_form").hide()})}})},successRotate:function(){var a=setTimeout(function(){$(".success_rotate").addClass("rating")
},1000)},areaSelect:function(){$(".company_area").parents("li").css("z-index","200")},mobileRegist:function(){$(".recv_mobile_code").delegate(".receive_code","click",function(){if($(".receive_code").hasClass("reacquire_code")){return false}var a=check_phone();if(a==1){showPhoneError("不能为空");return}if(a==2){showPhoneError("格式错误，请输入正确的手机号码");return}var d=true;$.ajax({type:"POST",url:"/check/check_phone.do",async:false,data:{validPhone:$("#phone").val()},success:function(f){if(f.checkResult==1){showPhoneError("该手机号已存在，<a href='/passport/login_input.do'>登录</a>");return}else{if(f.checkResult==2){showPhoneError("格式错误，请输入正确的手机号码");return}}d=false}});if(d){return}$.ajax({type:"POST",url:"/passport/sendCheckCodeForRegister.do",async:false,data:{"user.cellphone":$("#phone").val()},success:function(f){if(f.errorCode==1){showPhoneError("不能为空")
}else{if(f.errorCode==15){showPhoneError("格式错误，请输入正确的手机号码")}else{if(f.errorCode==16){showPhoneError("该手机号已存在，<a href='/passport/login_input.do'>登录</a>")}else{if(f.errorCode==17){alert("每天只有3次获取验证码的机会")}else{d=false;return}}}}}});if(d){return}$(this).addClass("reacquire_code").html("重新获取验证码(<i>59</i>)");var e=$("i",".reacquire_code").text();var c=setInterval(function(){if(e>0){e--;$("i",".reacquire_code").text(e)}},1000);var b=setTimeout(function(){$(".receive_code",".recv_mobile_code").removeClass("reacquire_code").html("重新获取验证码")},e*1000);return false})},loadFunRegist:function(){jsRegistFed.helpCenterHover();jsRegistFed.registTab();jsRegistFed.registForm(".ipt_username");jsRegistFed.registForm(".ipt_phone");jsRegistFed.registForm(".ipt_code");jsRegistFed.registForm(".ipt_phonecode");jsRegistFed.serviceAgreement();
jsRegistFed.rate(0,"arrow_email");jsRegistFed.rate(0,"arrow_mobile");jsRegistFed.paswdStrength("#password_email");jsRegistFed.paswdStrength("#password_mobile");jsRegistFed.mobileRegist()},loadFunEnglishRegist:function(){jsRegistFed.helpCenterHover();jsRegistFed.registForm(".ipt_username");jsRegistFed.registForm(".ipt_code");jsRegistFed.serviceAgreement();jsRegistFed.rate(0,"arrow_email");jsRegistFed.paswdStrength("#password_email")},loadFunRegistSuccess:function(){jsRegistFed.helpCenterHover();jsRegistFed.changeNickName();jsRegistFed.emailReceive();jsRegistFed.paswdStrength("#password");jsRegistFed.successRotate()},loadFunFindPassword:function(){jsRegistFed.helpCenterHover();jsRegistFed.registForm(".ipt_username");jsRegistFed.registForm(".ipt_code");jsRegistFed.receiveCode()},loadFunFindPassword2:function(){jsRegistFed.helpCenterHover();
jsRegistFed.registForm(".ipt_username");jsRegistFed.registForm(".ipt_code");jsRegistFed.receiveCode();jsRegistFed.rate(0,"arrow");jsRegistFed.paswdStrength("#password")},loadFunJointLanding:function(){jsRegistFed.helpCenterHover();jsRegistFed.registForm(".ipt_username");jsRegistFed.rate(0,"arrow");jsRegistFed.paswdStrength("#password")},loadFunBtbRegist:function(){jsRegistFed.helpCenterHover();jsRegistFed.registForm(".ipt_username");jsRegistFed.registForm(".ipt_companyName");jsRegistFed.registForm(".ipt_linkmanMobile");jsRegistFed.registForm(".ipt_landLine");jsRegistFed.registForm(".ipt_address1");jsRegistFed.registForm(".ipt_linkmanName");jsRegistFed.registForm(".ipt_validCode");jsRegistFed.rate(0,"arrow");jsRegistFed.paswdStrength("#password");jsRegistFed.areaSelect();jsRegistFed.serviceAgreement()
}};function register_param_validate(){var c=jQuery("#validCode").val();var a={validCode:c};var b=URLPrefix.passport+"/passport/register_param_validate.do";jQuery.post(b,a,function(d){if(d){if(d.errorCode!=0){if(d.errorCode==2){$("#valid_code_desc").css("display","none");showErrorInfo("valid_code_error","验证码错误，请重新输入")}}else{jQuery("#valid_code_error").hide();$("#valid_code_desc").addClass("rightinfo").show()}}else{jQuery("#valid_code_error").hide();$("#valid_code_desc").addClass("rightinfo").show()}})};