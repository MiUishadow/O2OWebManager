/*! aikuaike 0.1.0 2014-09-28 */
!function(a,b,c){a.fn.lazy=function(d){function e(c){"boolean"!=typeof c&&(c=!1),n.each(function(){var d=a(this),e=this.tagName.toLowerCase();if((g(d)||c)&&d.attr(m.attribute)&&("img"==e&&d.attr(m.attribute)!=d.attr("src")||"img"!=e&&d.attr(m.attribute)!=d.css("background-image"))&&!d.data("loaded")&&(d.is(":visible")||!m.visibleOnly)){var f=a(new Image);++o,f.error(m.onError?function(){l(m.onError,d),k()}:function(){k()});var h=!0;f.one("load",function(){var a=function(){return h?void b.setTimeout(a,100):(d.hide(),"img"==e?d.attr("src",f.attr("src")):d.css("background-image","url("+f.attr("src")+")"),d[m.effect](m.effectTime),m.removeAttribute&&d.removeAttr(m.attribute),l(m.afterLoad,d),f.unbind("load"),f.remove(),void k())};a()}),l(m.beforeLoad,d),f.attr("src",d.attr(m.attribute)),l(m.onLoad,d),h=!1,f.complete&&f.load(),d.data("loaded",!0)}}),n=a(n).filter(function(){return!a(this).data("loaded")})}function f(){m.delay>=0&&setTimeout(function(){e(!0)},m.delay),(m.delay<0||m.combined)&&(e(!1),a(m.appendScroll).bind("scroll",j(m.throttle,e)),a(m.appendScroll).bind("resize",j(m.throttle,e)))}function g(a){var b=h(),c=i(),d=a.offset().top,e=a.height();return b+c+m.threshold>d&&d+e>b-m.threshold}function h(){return c.documentElement.scrollTop?c.documentElement.scrollTop:c.body.scrollTop}function i(){return b.innerHeight?b.innerHeight:c.documentElement&&c.documentElement.clientHeight?c.documentElement.clientHeight:c.body&&c.body.clientHeight?c.body.clientHeight:c.body&&c.body.offsetHeight?c.body.offsetHeight:m.fallbackHeight}function j(a,b){function c(){function c(){e=+new Date,b.apply()}var f=+new Date-e;d&&clearTimeout(d),f>a||!m.enableThrottle?c():d=setTimeout(c,a-f)}var d,e=0;return c}function k(){--o,n.size()||o||l(m.onFinishedAll,null)}function l(a,b){a&&(null!==b?a(b):a())}var m={bind:"load",threshold:500,fallbackHeight:2e3,visibleOnly:!0,appendScroll:b,delay:-1,combined:!1,attribute:"data-src",removeAttribute:!0,effect:"show",effectTime:0,enableThrottle:!1,throttle:250,beforeLoad:null,onLoad:null,afterLoad:null,onError:null,onFinishedAll:null};d&&a.extend(m,d);var n=this,o=0;return"load"==m.bind?a(b).load(f):"event"==m.bind&&f(),m.onError&&n.bind("error",function(){l(m.onError,a(this))}),this},a.fn.Lazy=a.fn.lazy}(jQuery,window,document);