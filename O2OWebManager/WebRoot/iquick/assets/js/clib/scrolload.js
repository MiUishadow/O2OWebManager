/*! aikuaike 0.1.1 2014-10-20 */
define("clib/scrolload",[],function(){!function(a,b,c){a.fn.scrolload=function(d){function e(b){"boolean"!=typeof b&&(b=!1),p.each(function(){var c=a(this),d=this.tagName.toLowerCase();(i(c)||b)&&(!c.attr(o.attribute)||c.data("loaded")||!c.is(":visible")&&o.visibleOnly||(f(d,c),g(d,c)))}),p=a(p).filter(function(){return!a(this).data("loaded")})}function f(c,d){if("img"==c&&d.attr(o.attribute)!=d.attr("src")){var e=a(new Image);++q,e.error(o.onError?function(){n(o.onError,d),m()}:function(){m()});var f=!0;e.one("load",function(){var a=function(){return f?void b.setTimeout(a,100):(d.hide(),d.attr("src",e.attr("src")),d[o.effect](o.effectTime),o.removeAttribute&&d.removeAttr(o.attribute),n(o.afterLoad,d),e.unbind("load"),e.remove(),void m())};a()}),n(o.beforeLoad,d),e.attr("src",d.attr(o.attribute)),n(o.onLoad,d),f=!1,e.complete&&e.load(),d.data("loaded",!0)}}function g(a,b){"img"!=a&&(++q,n(o.onLoad,b),m(),b.data("loaded",!0))}function h(){o.delay>=0&&setTimeout(function(){e(!0)},o.delay),(o.delay<0||o.combined)&&(e(!1),a(o.appendScroll).bind("scroll",l(o.throttle,e)),a(o.appendScroll).bind("resize",l(o.throttle,e)))}function i(a){var b=j(),c=k(),d=a.offset().top,e=a.height();return b+c+o.threshold>d&&d+e>b-o.threshold}function j(){return c.documentElement.scrollTop?c.documentElement.scrollTop:c.body.scrollTop}function k(){return b.innerHeight?b.innerHeight:c.documentElement&&c.documentElement.clientHeight?c.documentElement.clientHeight:c.body&&c.body.clientHeight?c.body.clientHeight:c.body&&c.body.offsetHeight?c.body.offsetHeight:o.fallbackHeight}function l(a,b){function c(){function c(){e=+new Date,b.apply()}var f=+new Date-e;d&&clearTimeout(d),f>a||!o.enableThrottle?c():d=setTimeout(c,a-f)}var d,e=0;return c}function m(){--q,p.size()||q||n(o.onFinishedAll,null)}function n(a,b){a&&(null!==b?a(b):a())}var o={bind:"event",threshold:500,fallbackHeight:2e3,visibleOnly:!0,appendScroll:b,delay:-1,combined:!1,attribute:"data-src",removeAttribute:!0,effect:"show",effectTime:0,enableThrottle:!1,throttle:250,beforeLoad:null,onLoad:null,afterLoad:null,onError:null,onFinishedAll:null};d&&a.extend(o,d);var p=this,q=0;return h(),o.onError&&p.bind("error",function(){n(o.onError,a(this))}),this}}(jQuery,window,document)});